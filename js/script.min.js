for(var buy=document.querySelectorAll(".buy-tool"),productAddedCart=document.querySelector(".notice-item-added-to-cart"),buttonClose=productAddedCart.querySelector(".button-close"),i=0;i<buy.length;i++){var buyClick=buy[i];buyClick.addEventListener("click",function(e){e.preventDefault(),productAddedCart.classList.add("notice-item-added-to-cart-show")})}buttonClose.addEventListener("click",function(e){e.preventDefault(),productAddedCart.classList.remove("notice-item-added-to-cart-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&productAddedCart.classList.contains("notice-item-added-to-cart-show")&&(e.preventDefault(),productAddedCart.classList.remove("notice-item-added-to-cart-show"))});var buttonOpenForm=document.querySelector(".open-form-feedback"),popupForm=document.querySelector(".popup-form"),popupClose=popupForm.querySelector(".button-close"),formFeedback=popupForm.querySelector(".form-feedback"),nameField=popupForm.querySelector(".name-field"),emailField=popupForm.querySelector(".email-field"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}buttonOpenForm.addEventListener("click",function(e){e.preventDefault(),popupForm.classList.add("popup-form-show"),storage?(nameField.value=storage,emailField.focus()):nameField.focus()}),popupClose.addEventListener("click",function(e){e.preventDefault(),popupForm.classList.remove("popup-form-show"),popupForm.classList.remove("popup-form-error")}),formFeedback.addEventListener("submit",function(e){nameField.value&&emailField.value?isStorageSupport&&localStorage.setItem("name",nameField.value):(e.preventDefault(),popupForm.classList.remove("popup-form-error"),popupForm.offsetWidth,popupForm.classList.add("popup-form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupForm.classList.contains("popup-form-show")&&(e.preventDefault(),popupForm.classList.remove("popup-form-show"),popupForm.classList.remove("popup-form-error"))});var mapsLink=document.querySelector(".maps-link"),popupMap=document.querySelector(".maps-popup"),buttonCloseMap=popupMap.querySelector(".button-close");mapsLink.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("maps-popup-show")}),buttonCloseMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("maps-popup-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popupMap.classList.contains("maps-popup-show")&&(e.preventDefault(),popupMap.classList.remove("maps-popup-show"))});